<ContentDialog
    x:Class="AzureAppRegistrationsManager.WinUI.Features.CertificatesAndSecrets.ClientSecretDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:base="using:AzureAppRegistrationsManager.WinUI.Features"
    xmlns:validation="using:WinUI.Validation"
    PrimaryButtonText="Apply"
    SecondaryButtonText="Cancel"
    DefaultButton="Primary">

    <ScrollViewer 
        VerticalScrollBarVisibility="Auto" 
        VerticalScrollMode="Auto"
        MaxHeight="600">

        <validation:ValidationForm
            Model="{x:Bind ClientSecret}"
            OnValidationChanged="ValidationChanged">

            <StackPanel 
                Spacing="24" 
                Margin="0,0,0,24">

                <StackPanel Spacing="8">
                    <TextBlock Text="Description 🔺" FontWeight="SemiBold"/>
                    <validation:ValidationFor PropertyName="DisplayName" HideValidationMessage="True">
                        <TextBox 
                            x:Name="DescriptionTextBox"
                            PlaceholderText="Enter a description for this client secret"
                            Text="{x:Bind ClientSecret.DisplayName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, FallbackValue=''}"
                            AcceptsReturn="True"
                            TextWrapping="Wrap"
                            Height="80"/>
                    </validation:ValidationFor>
                </StackPanel>

                <StackPanel Spacing="8">
                    <TextBlock Text="Expires" FontWeight="SemiBold" />
                    <ComboBox 
                        x:Name="ExpirationComboBox"
                        Width="300"
                        SelectionChanged="ExpirationComboBox_SelectionChanged">
                        <ComboBoxItem IsSelected="True" Content="Recommended: 180 days (6 months)" Tag="180" />
                        <ComboBoxItem Content="90 days (3 months)" Tag="90" />
                        <ComboBoxItem Content="365 days (12 months)" Tag="365" />
                        <ComboBoxItem Content="545 days (18 months)" Tag="545" />
                        <ComboBoxItem Content="730 days (24 months)" Tag="730" />
                        <ComboBoxItem Content="Custom" Tag="Custom" />
                    </ComboBox>
                </StackPanel>

                <StackPanel 
                    x:Name="CustomDaysStackPanel" 
                    HorizontalAlignment="Left"
                    Spacing="8" 
                    Visibility="Collapsed">
                    <TextBlock Text="Days" FontWeight="SemiBold" />
                    <NumberBox 
                        x:Name="CustomDaysBox"
                        Text="{x:Bind CustomDays, Mode=TwoWay, FallbackValue=''}"
                        Width="100" 
                        Minimum="1" />
                </StackPanel>

            </StackPanel>
        </validation:ValidationForm>
    </ScrollViewer>

</ContentDialog>